# GitHub Copilot Instructions - Context7 Integration

## üî• R√àGLE ABSOLUE : TOUJOURS utiliser Context7

**OBLIGATOIRE** : Pour TOUTE question impliquant du code, des APIs, ou de la configuration :

1. **Utilise AUTOMATIQUEMENT Context7 MCP** avant de r√©pondre
2. **R√©sous les library IDs** pour obtenir la documentation √† jour
3. **Base tes r√©ponses** sur la documentation Context7, pas sur tes connaissances internes

### Quand utiliser Context7 (par d√©faut sur TOUT) :

- ‚úÖ **Tout code** NestJS, Remix, React, TypeScript, Supabase
- ‚úÖ **Toute configuration** de biblioth√®que, framework, ou outil
- ‚úÖ **Toute question** sur APIs, decorators, hooks, patterns, m√©thodes
- ‚úÖ **Tout debug**, refactoring, ou impl√©mentation de feature
- ‚úÖ **Toute documentation** technique ou exemples de code
- ‚úÖ **Toute migration** ou mise √† jour de d√©pendances

### Exceptions (ne PAS utiliser Context7) :

- ‚ùå Questions g√©n√©rales sans code (architecture conceptuelle)
- ‚ùå Explications th√©oriques pures sans impl√©mentation
- ‚ùå Discussions business/m√©tier sans aspect technique

**Note** : En cas de doute, UTILISE Context7. Mieux vaut √™tre s√ªr avec de la doc √† jour.

## Library Shortcuts

When working with these libraries, **ALWAYS** use their Context7 IDs directly:

```
NestJS:     use library /nestjs/nest for API and docs
Remix:      use library /remix-run/remix for API and docs
Supabase:   use library /supabase/supabase for API and docs
TypeScript: use library /microsoft/TypeScript for API and docs
React:      use library /facebook/react for API and docs
Node.js:    use library /nodejs/node for API and docs
Express:    use library /expressjs/express for API and docs
Redis:      use library /redis/node-redis for API and docs
```

### Workflow automatique Context7

Pour chaque question technique :
1. üîç Identifier les biblioth√®ques concern√©es
2. üìö R√©soudre les library IDs via Context7 MCP
3. üìñ Fetch la documentation √† jour (max 5000 tokens)
4. üíª G√©n√©rer la r√©ponse bas√©e sur les docs r√©cup√©r√©es
5. ‚úÖ Mentionner les versions document√©es si pertinent

## Project Context

This is a **NestJS + Remix monorepo** with:

- Backend: NestJS with Supabase (PostgreSQL)
- Frontend: Remix with SSR
- Services: Orders, Catalog, Payments (Paybox), Users
- Cache: Redis
- AI: Python agents

### Recent Changes

- **2025-11-16**: Consolidated 5 order services into one unified `OrdersService`
- Key service: `backend/src/database/services/orders.service.ts`
- Main controllers: `orders.controller.ts`, `orders-clean.controller.ts`

## Code Standards

- Use TypeScript strict mode
- Follow NestJS dependency injection patterns
- Prefer async/await over promises chains
- Use proper error handling with NestJS exceptions
- Cache frequently accessed data
- Format responses consistently: `{ success: boolean, data: any, error?: string }`

## Context7 Preferences

- **Tokens limit** : Default 5000 tokens (ajustable selon besoin)
- **Focus** : Prioriser les exemples de code concrets et working examples
- **Versions** : Toujours mentionner les versions des biblioth√®ques si applicable
- **Langue** : R√©ponses en fran√ßais, code en anglais
- **Format** : Code format√©, commentaires explicatifs, bonnes pratiques

## Ne me demande JAMAIS

- ‚ùå "Voulez-vous que j'utilise Context7 ?" ‚Üí OUI, toujours par d√©faut
- ‚ùå "Dois-je r√©cup√©rer la documentation ?" ‚Üí OUI, automatiquement
- ‚ùå Permission pour utiliser Context7 ‚Üí Utilise-le directement

Agis de mani√®re autonome avec Context7 pour toutes les questions techniques.

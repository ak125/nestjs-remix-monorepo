/**
 * üîó MAILLAGE INTERNE - Styles des liens
 * 
 * D√©finit l'apparence et comportement de tous les liens internes
 * pour am√©liorer l'UX et le SEO (maillage interne coh√©rent)
 */

@layer components {
  /* üîó Liens internes g√©n√©riques */
  a {
    @apply transition-colors duration-200;
  }

  /* Liens dans le contenu (articles, descriptions, SEO) */
  .prose a,
  article a,
  .content a,
  .seo-content a {
    @apply text-primary underline decoration-primary/30 underline-offset-2;
    @apply hover:text-primary-600 hover:decoration-primary;
    @apply font-medium;
  }

  /* Liens de navigation (header, footer, menus) */
  nav a:not(.button):not(.btn):not(.no-style),
  .nav-link,
  header a:not(.button):not(.btn):not(.no-style) {
    @apply text-secondary-600 no-underline;
    @apply hover:text-primary hover:underline;
    @apply font-medium;
  }

  /* Liens dans breadcrumb (fil d'Ariane) */
  .breadcrumb a,
  nav[aria-label="breadcrumb"] a,
  [itemtype="https://schema.org/BreadcrumbList"] a {
    @apply text-secondary-500 no-underline;
    @apply hover:text-primary hover:underline;
  }

  /* Liens SEO (footer, sitemap, pages l√©gales) */
  footer a:not(.button):not(.btn):not(.no-style),
  .footer-link,
  .sitemap-link,
  .legal-link {
    @apply text-gray-400 no-underline;
    @apply hover:text-white hover:underline;
  }

  /* Liens catalogue (cat√©gories, gammes, produits) */
  .catalog-link,
  .product-link,
  .category-link,
  .gamme-link {
    @apply text-gray-900 font-medium no-underline;
    @apply hover:text-primary hover:underline;
    @apply transition-all duration-200;
  }

  /* Liens constructeurs/marques/v√©hicules */
  .brand-link,
  .model-link,
  .vehicle-link,
  .manufacturer-link {
    @apply text-secondary-600 font-semibold no-underline;
    @apply hover:text-primary hover:underline hover:scale-105;
    @apply transition-all duration-200;
  }

  /* Liens blog (articles, conseils, guides) */
  .blog-link,
  .article-link,
  .guide-link {
    @apply text-gray-700 no-underline;
    @apply hover:text-primary hover:underline;
    @apply font-medium;
  }

  /* Liens CTA (Call-to-Action) */
  .cta-link {
    @apply text-primary font-bold no-underline;
    @apply hover:text-primary-600 hover:underline;
  }

  /* Liens externes (ic√¥ne ‚Üó) */
  a[target="_blank"]:not(.no-icon)::after {
    content: " ‚Üó";
    @apply text-xs text-gray-400 ml-1;
  }

  /* Liens actifs (page courante) */
  a.active,
  a[aria-current="page"] {
    @apply text-primary font-semibold;
    @apply border-b-2 border-primary;
  }

  /* Liens disabled */
  a.disabled,
  a[aria-disabled="true"] {
    @apply text-gray-400 pointer-events-none cursor-not-allowed opacity-50;
  }

  /* Liens avec badge (ex: "Nouveau", "Promo") */
  .badge-link {
    @apply relative;
  }

  .badge-link::before {
    content: attr(data-badge);
    @apply absolute -top-2 -right-2;
    @apply bg-primary text-white text-xs font-bold;
    @apply px-1.5 py-0.5 rounded-full;
    @apply shadow-sm;
  }

  /* Liens images (cards) */
  a:has(img) {
    @apply block overflow-hidden;
  }

  a:has(img):hover img {
    @apply scale-105;
    @apply transition-transform duration-300;
  }
}

/* === VARIANTES PAR TH√àME === */
@layer components {
  /* Th√®me sombre (dark mode) */
  .dark a:not(.button):not(.btn) {
    @apply text-primary-400;
  }

  .dark a:not(.button):not(.btn):hover {
    @apply text-primary-300;
  }

  /* Th√®me haute lisibilit√© */
  .high-contrast a {
    @apply underline decoration-2;
  }
}

/* === √âTATS SP√âCIAUX === */
@layer utilities {
  /* Animation focus pour accessibilit√© */
  a:focus-visible {
    @apply outline-2 outline-offset-2 outline-primary;
    @apply ring-2 ring-primary ring-offset-2;
  }

  /* Liens visit√©s (SEO) */
  a:visited:not(.no-visited) {
    @apply text-purple-600;
  }

  .dark a:visited:not(.no-visited) {
    @apply text-purple-400;
  }
}
